
# HTTP калькулятор на Go

## Описание

Данный проект представляет собой сервер, который использует протокол HTTP для вычисления арифметических выражений. Пользователь может отправить строковое арифметическое выражение в формате JSON через HTTP POST-запрос, после чего сервер выполнит его вычисление и вернет результат в формате JSON.

Калькулятор поддерживает стандартные арифметические операции: сложение (+), вычитание (-), умножение (*) и деление (/). Также поддерживаются круглые скобки для задания порядка выполнения операций.

Пример арифметического выражения (2+2)*2 будет обработан сервером, после чего результат будет возвращен пользователю. Рекомендуется указывать выражение без пробелов.

## Установка и запуск

Импортуируем модуль с гитхаба:

```bash
git init mod github.com/Filatova-Elizaveta/Calculation_0
```
Для запуска сервера выполните команду:

```bash
go run ./cmd/main.go
```

После запуска сервер будет доступен на порту `8080` по адресу: `http://localhost:8080`.

---

### 1. `/api/v1/calculate`

**Метод:** POST

**Описание:** Принимает арифметическое выражение в JSON формате, выполняет вычисления и возвращает результат.

#### Пример запроса:

```bash
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "(2+2)*2"}'
```

**Пример ответа (успешное выполнение):**

```json
{
  "result": "8.000000"
}
```
### Возможные ошибки

1. **Ошибка 422 (Unprocessable Entity):**

Это ошибка возникает, если передано недопустимое выражение (например, если в нем присутствуют посторонние символы или есть синтаксическая ошибка).

Пример запроса:

```bash
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "2+x"}'
```

**Пример ответа (ошибка 422):**

```json
{
  "error": "invalid expression"
}
```

2. **Ошибка 500 (Internal Server Error):**

Эта ошибка возникает, если произошло что-то непредвиденное при выполнении вычислений, например, деление на ноль.

Пример запроса:

```bash
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": 11}'
```

**Пример ответа (ошибка 500):**

```json
{
  "error": "something went wrong"
}
```

---
